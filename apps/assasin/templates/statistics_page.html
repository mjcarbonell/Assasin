[[extend 'layout.html']]

<div class="section" id="vue-target">

  <a class="button is-primary" href="[[=URL('index', signer=url_signer)]]">
    <span class="icon"></span> 
    <span>Back to home page</span>
  </a>
  <h1 style="margin-bottom: 10px;">&nbsp;</h1>


  <input class="input" type="text" placeholder="your last words here. " v-model="last_words" /> 
  <button class="button is-link" @click="set_last_words">set last_words</button>

  <div class="columns">
    <div class="column is-half">
      <div class="box">
        <h1
          class="title is-4 has-text-centered has-background-primary has-text-white"
        >
          Player Statistics
        </h1>
        <table
          class="table is-bordered is-striped is-narrow is-hoverable has-background-light"
        >
          <thead>
            <tr>
              <th class="has-text-centered has-background-info has-text-white">
                Nickname
              </th>
              <th class="has-text-centered has-background-info has-text-white">
                Wins
              </th>
              <th class="has-text-centered has-background-info has-text-white">
                Last Word
              </th>
              <th class="has-text-centered has-background-info has-text-white">
                Last Vote Casted
              </th>
            </tr>
          </thead>
          <tbody>
            <template v-for="player in players">
              <tr>
                <td>{{ player.nickname }}</td>
                <td>{{ player.wins }}</td>
                <td>{{ player.last_word }}</td>
                <td>{{ player.vote }}</td>
              </tr>
            </template>
          </tbody>
        </table>
      </div>
    </div>

    <div class="column">
      <div class="box">
        <h1
          class="title is-4 has-text-centered has-background-primary has-text-white"
        >
          Leaderboard
        </h1>
        <table
          class="table is-bordered is-striped is-narrow is-hoverable has-background-light"
        >
          <thead>
            <tr>
              <th class="has-text-centered has-background-info has-text-white">
                Nickname
              </th>
              <th class="has-text-centered has-background-info has-text-white">
                Wins
              </th>
            </tr>
          </thead>
          <tbody>
            <template v-for="player in leaderboard">
              <tr>
                <td>{{ player.nickname }}</td>
                <td>{{ player.wins }}</td>
              </tr>
            </template>
          </tbody>
        </table>
      </div>
    </div>
  </div>


</div>

[[block page_scripts]]
<!-- Loads the index-specific js for Vue -->
<script>
  let get_users_url = "[[=XML(get_users_url)]]";
  let get_groups_url = "[[=XML(get_groups_url)]]";
  let add_last_words_url = "[[=XML(add_last_words_url)]]"; 
</script>

<script src="js/stats_page.js"></script>
[[end]]
