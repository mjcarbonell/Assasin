[[extend 'layout.html']]

<style>
[v-cloak] {
     display: none;
}
</style>


<div class="section" id="vue-target" v-cloak>
  <!-- {{players}} -->

  <!-- CHECKS IF PLAYER IS REGISTERED -->
  <div v-if="inPlayers == false" style="margin-bottom: 20px;">
    <h1>Welcome to Assasin!</h1>
    <!-- the nickname field is the value user types into the input box -->
    <!-- button is used to add the player to the databse by calling add_player() in our Vue script -->
    <input class="input" type="text" placeholder="type nickname here" v-model="nickname" /> 
    <button class="button is-link" @click="add_player">set nickname</button>
  </div>
  <div v-else> 
    welcome back! 
    <h1 style="margin-bottom: 10px;">&nbsp;</h1>
    <!-- Button to redirect us to statisitics page from our controllers.py -->
    <a class="button is-primary" href="[[=URL('statistics_page', signer=url_signer)]]">
      <span class="icon"></span>
      <span>Go to statistics</span>
    </a>
  </div>

  <h1 style="margin-bottom: 20px;">&nbsp;</h1>
    <!-- Button to redirect us to group page from our controllers.py -->
    <a class="button is-primary" href="[[=URL('group_page', signer=url_signer)]]">
      <span class="icon"></span> 
      <span>Go to group</span>
    </a>

</div>


[[block page_scripts]]
<!-- Loads the index-specific js for Vue -->
<script>
  let get_users_url = "[[=XML(get_users_url)]]";
  let add_player_url = "[[=XML(add_player_url)]]";
  
</script>

<script src="js/index.js"></script>
[[end]]
